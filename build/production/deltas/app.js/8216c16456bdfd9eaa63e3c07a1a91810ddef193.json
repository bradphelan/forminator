["/*7a6dbaa99f3118645ed34b61087781c00f353269",42,227233,",width:\"80%\",height:\"80%\",layout:\"vbox\"",241231,35,"this.add([{xtype:\"panel\",items:[{xtype:\"panel\",",227321,145,",width:\"100%\",height:\"100%\"}],scrollable:\"auto\",flex:1",227466,398,"if(b!=null){",227926,43,227992,144,228139,81,"fixCanvasLag:function(){return $(this.canvas()).attr(\"unselectable\",\"on\").css({\"-moz-user-select\":\"none\",\"-webkit-user-select\":\"none\",\"user-select\":\"none\",\"::selection\":\"none\"}).each(function(){return this.onselectstart=function(){return false}}",228217,183,228139,34,");return this.fixCanvasLag(",228447,122,"bubbleEvents:[\"change\"]",228568,711,"pngData:function(){return this.sketch.el.toDataURL(\"png\"",229276,161,",{toolLinks:false,defaultSize:\"10\"}",229437,78,229522,65,";return this.sketch.canvas.bind(\"sketch.change\",function(d){return c.fireEvent(\"change\",d)",229585,273,"toolS",229859,956,"toolS",230816,137,"this.redraw()",230636,43,",this.actions",230972,330,"f,h,g,e,c,d",231303,109,"h=this;g=$.sketch.tools;d=this.actions;for(e=0,c=d.length;e<c;e++){f=d[e];if(f.tool){g[f.tool].draw.call(h,f)}}",231518,38,"g[this.action.tool].draw.call(h",231600,89,"c){var b,d=this;switch(c",231700,40,"return this.startPainting()",231766,80,"return this.stopPainting();case\"mousemove\":if(!this.doMouseMove){b=function(g){var f,h;if(d.painting){h=d.canvas.offset();f={x:g.pageX-h.left,y:g.pageY-h.top,event:g.type};d.action.events.push(f);return d.redraw()}};this.doMouseMove=Ext.Function.createThrottled(b,1000/25)}return this.doMouseMove(c)}},draw:function(e){var j,f,c,d,h,b,k,g;j=this.context;j.lineJoin=\"round\";j.lineCap=\"round\";j.beginPath();j.strokeStyle=e.color;j.lineWidth=e.size;k=e.events;if(!(k.length>=3)){return}b=k[0];j.moveTo(b.x,b.y);d=k.length-2;j.moveTo(k[0].x,k[0].y);for(h=g=1;1<=d?g<=d:g>=d;h=1<=d?++g:--g){f=(k[h].x+k[h+1].x)/2;c=(k[h].y+k[h+1].y)/2;j.quadraticCurveTo(k[h].x,k[h].y,f,c)}j.quadraticCurveTo(k[h-1].x,k[h-1].y,k[h].x,k[h].y);return j",232343,4809,",padding:10",237152,124,"!c.isSet(b.getRecord())",237315,36,"Visibility",237481,35,238668,33,"each(function(c){var b,d;d=c.isVisible(a.getRecord());c.findComponent(a).setShowAnimation(\"slideIn\");c.findComponent(a).setHideAnimation(\"fadeOut\");if(d){return c.findComponent(a).show()}else{b=c.findComponent(a);if(!b.getHidden()){a.getRecord().set(c.get(\"name\"),null);return b.hide()}}})",237343,57,237407,54,"return this.updateVisibility()",237461,55,"getRecord().on({change:{fn:function(){a.updateState();return a.configureListeners()},single:true",237854,98,"buildField",237480,36,238668,78,"a.getRecord())})},buildSubmitToolbar:function(){var a=this;return",238782,228,241231,35,237985,255,",easing:\"ease-in\"",238240,247,",easing:\"ease-in\"",238240,55,238542,126,"buildFields(",238748,34,"this.buildSubmitToolbar()",239010,107,"PagesLister",239117,32,"ges:null,record:null,layout:\"vbox\"",239259,92,",b,c=this;this.callParent();a=Ext.create(\"Ext.Panel\",",239146,91,"flex:1,pages:this.getPages(),record:this.getRecord()});a",239368,48,"e,d",239419,42,"d===c.pagesCount()-1,pagesUI:a,page:e,record:c.getRecord()})}));b=Ext.create(\"Ext.List\",{store:this.getPages(),itemTpl:\"{title}\",scrollable:true,cls:\"x-question-list\",flex:1,listeners:{itemtap:function(e,f){var d;d=a.items.indexOf(a.getActiveItem());a",238170,50,"f>d?\"left\":\"right\",duration:500,easing:\"ease-in\"});return a.setActiveItem(f)}}});a.on({activeitemchange:function(e,f,g){var d;d=e.items.indexOf(f);return b.select(d)}});b.select(0);this.add({xtype:\"panel\",width:200,docked:\"left\",layout:\"vbox",399641,34,"Questions\"},b]});return this.add(a",239545,343,240931,15821,399212,37,"Field\",{extend:\"Ext.Panel\",config:{factory:null,record:null,name:null,value:null},initialize:function(){this.setName(this.getFactory().get(\"name\"));this.getRecord().on(\"change:\"+(this.getName()),this.doRecordChange,this);this.add({xtype:\"panel\",padding:\"0 0 10px 0\",items:[{xtype:\"panel\",html:this.getFactory().createLabel()},",363579,33,"this.getFactory().createInstructions(),title:this.getFactory().createTitle()});this.setId(this.getFactory().idForComponent());return this.setValue(this.getRecord().get(this.getName()))},updateValue:function(b,a){return this.getRecord().set(this.getName(),b)},doRecordChange:function(c,d,b,a){return this.setValue(b",239545,34,239882,1043,256768,18204,"slider.Thumb",239584,33,"thumb",273376,37,"thumb\",draggable:{direction:\"horizontal\"}},elementWidth:0",394255,49,"Draggable().onBefore(",94685,70,");this.on(\"painted\",\"onPainted\")},onDragStart:function(){if(this.isDisabled()){return false}this.relayEvent(arguments)},onDrag:function(){if(this.isDisabled()){return false}this.relayEvent(arguments)},onDragEnd:function(){if(this.isDisabled()){return false}this.relayEvent(arguments",117285,36,"Width=this.element.dom.offsetWidth},getElementWidth:function(){return this.elementWidth",336831,32,274984,25137,399212,33,"RadioField\",{extend:\"app.view.FormField\",updateValue:function(f,d){var g,a,e,c,b;this.callParent(arguments);a=this.query(\"radiofield\");b=[];for(e=0,c=a.length;e<c;e++){g=a[e];if(f===null){b.push(g.setChecked(false))}else{if(g.getValue()===f){b.push(g.setChecked(true))}else{b.push(void 0)}}}return b},createRadio:function(a){return{xtype:\"radiofield\",labelWidth:this.getFactory().get(\"labelWidth\"),value:a",364648,35,"a.text),name:this.getName",364507,33,"a,b=this;return a=this.getFactory().options().map(function(c){return{xtype:\"panel\",items:[b.createRadio(c),{xtype:\"label\",html:c.help,cls:\"assist\"}]}})},createField:function(){var a;a=Ext.create(\"Ext.Panel\",{items:this.createRadios()});a.on({check:{fn:this.doChange,scope:this,delegate:\"field\"},uncheck:{fn:this.doChange,scope:this,delegate:\"field\"}});return a},doChange:function(a,b){return this.setValue(a.getValue())",365181,45,"view.BooleanField\",{extend:\"app.view.FormField\",updateValue:function(b,a){var c;this.callParent(arguments);c=this.down(\"checkboxfield\");return c.setChecked(b)},requires:[\"Ext.field.Checkbox\"],createField:function(){var a,b=this;a=Ext.create(\"Ext.field.Checkbox\",{name:this.getName(),label:null,labelWrap:false,labelAlign:\"left\"});a.on({check:function(c){return b.doChange(c)},uncheck:function(c){return b.doChange(c)}});return a},doChange:function(a){return this.setValue(a.isChecked())",365181,45,"view.SketchFieldImpl",125880,35,"sketchfield\",config:{component:{xtype:\"sketch\",minHeight:600,useToolbar:false",244031,43,"return this.getComponent().on({change:{scope:this,fn:this.onSketchChange}})},onSketchChange:function(a){this.setValue(a);return this.fireEvent(\"change\"",272360,39,"Component().pngData()",241776,37,"Values(",228447,32,"Field\",{extend:\"app.view.FormField\",createField:function(){this.panel=Ext.create(\"app.view.SketchFieldImpl\",{name:this.getName(),label:null,labelWrap:true,labelAlign:\"top\"});this.panel.on(\"change\",this.doChange,this);return this.panel},doChange:function(){return this.setValue(this.panel.getValue())",387254,33,"callParent(arguments);return console.log(\"warning: cannot update image sketches yet!\"",239545,34,300137,36714,"slider.Slide",233263,34,"slider\",requires:[\"Ext.slider.Thumb\",\"Ext.fx.easing.EaseOut\"],config:{baseCls:\"x-slider\",thumbConfig:{draggable:{translatable:{easingX:{duration:300,type:\"ease-out\"}}}},value:0,minValue:0,maxValue:100,increment:1,allowThumbsOverlapping:false,animation:true},elementWidth:0,offsetValueRatio:0,activeThumb:null",159277,38,"hasOwnProperty(\"values\")){a.value=a.values}",276809,44,"var a=this.element;this.callParent();a.on({scope:this,tap:\"onTap\"}",390907,34,"thumb\",dragstart:\"onThumbDragStart\",drag:\"onThumbDrag\",dragend:\"onThumbDragEnd\"});this.on({painted:\"refresh\",resize:\"refresh\"})},factoryThumb:function(){return Ext.factory(this.getThumbConfig(),Ext.slider.Thumb)},getThumb",156822,40,"Thumb:function(a){if(typeof a!=\"number\"){a=0}return this.innerItems[a]},refreshOffsetValueRatio:function(){var b=this.getMaxValue()-this.getMinValue(),a=this.elementWidth-this.thumbWidth;this.offsetValueRatio=a/b},refreshElementWidth:function(){this.elementWidth=this.element.dom.offsetWidth;var a=this.getThumb(0);if(a){this.thumbWidth=a.getElementWidth()}",77198,33,"ElementWidth();this.refreshValue()},setActiveThumb:function(b){var a=this.activeThumb;if(a&&a!==b){a.setZIndex(null)}this.activeThumb=b;b.setZIndex(2);return this},onThumbDragStart:function(a,b){if(b.absDeltaX<=b.absDeltaY){return false}else{b.stopPropagation()}if(this.getAllowThumbsOverlapping()){this.setActiveThumb(a)}this.dragStartValue=this.getValue()[this.getThumbIndex(a)];this.fireEvent(\"dragstart\",this,a,this.dragStartValue,b)},onThumbDrag:function(c,g,a){var d=this.getThumbIndex(c),f=this.offsetValueRatio,b=this.constrainValue(a/f);g.stopPropagation();this.setIndexValue(d,b);this.fireEvent(\"drag\",this,c,this.getValue(),g);return false},setIndexValue:function(d,g,f){var c=this.getThumb(d),b=this.getValue(),e=this.offsetValueRatio,a=c.getDraggable();a.setOffset(g*e,null,f);b[d]=this.constrainValue(a.getOffset().x/e)},onThumbDragEnd:function(a,f){this.refreshThumbConstraints(a);var c=this.getThumbIndex(a),d=this.getValue()[c],b=this.dragStartValue",97187,38,"getValue(),f);if(b!==",387397,32,"a,d,b)}},getThumbIndex:function(a){return this.getThumbs().indexOf(a)},refreshThumbConstraints:function(d){var b=this.getAllowThumbsOverlapping(),a=d.getDraggable().getOffset().x,c=this.getThumbs(),e=this.getThumbIndex(d),g=c[e-1],h=c[e+1],f=this.thumbWidth;if(g){g.getDraggable().addExtraConstraint({max:{x:a-((b)?0:f)}})}if(h){h.getDraggable().addExtraConstraint({min:{x:a+((b)?0:f)}})}},onTap:function(j){if(this.isDisabled()){return}var k=Ext.get(j.target);if(!k||k.hasCls(\"x-thumb\")){return}var n=j.touch.point.x,h=this.element,c=h.getX(),d=n-c-(this.thumbWidth/2),o=this.constrainValue(d/this.offsetValueRatio),r=this.getValue(),q=Infinity,m=r.length,g,f,l,p,b,a;if(m===1){p=0}else{for(g=0;g<m;g++){l=r[g];f=Math.abs(l-o);if(f<q){q=f;p=g}}}b=r[p];a=this.getThumb(p);this.setIndexValue(p,o,this.getAnimation());this.refreshThumbConstraints(a);if(b!==o){this.fireEvent(\"change\",this,a,o,b)}},updateThumbs:function(a){this.add(a)},applyValue:function(g){var d=Ext.Array.from(g||0),b=[],c=this.getMinValue(),a,e,f;for(e=0,f=d.length;e<f;e++){a=this.constrainValue(d[e]);if(a<c){a=c}b.push(a);c=a}return b},updateValue:function(e,b){var a=this.getThumbs(),d=e.length,c;this.setThumbsCount(d);for(c=0;c<d;c++){a[c].getDraggable().setExtraConstraint(null).setOffset(e[c]*this.offsetValueRatio)}for(c=0;c<d;c++){this.refreshThumbConstraints(a[c])}},refreshValue:function(){this.refreshOffsetValueRatio();this.setValue(this.getValue())},constrainValue:function(e){var b=this,d=b.getMinValue(),f=b.getMaxValue(),a=b.getIncrement(),c;e=parseFloat(e);if(isNaN(e)){e=d}c=e%a;e-=c;if(Math.abs(c)>=(a/2)){e+=(c>0)?a:-a}e=Math.max(d,e);e=Math.min(f,e);return e},setThumbsCount:function(e){var a=this.getThumbs(),f=a.length,c,d,b;if(f>e){for(c=0,d=f-e;c<d;c++){b=a[a.length-1];b.destroy()}}else{if(f<e){for(c=0,d=e-f;c<d;c++){this.add(this.factoryThumb())}}}return this},setValues:function(a){this.setValue(a)",385833,47,"applyIncrement:function(a){if(a===0){a=1}return Math.abs(a)},updateAllowThumbsOverlapping:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},updateMinValue:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},updateMaxValue:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},updateIncrement:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},doSetDisabled:function(c",129599,33,"a=this.getItems().items,d=a.length,b;for(b=0;b<d;b++){a[b].setDisabled(c)}",116734,33,"field.Slider",125880,35,"sliderfield\",requires:[\"Ext.slider.Slider",129383,32,"Slider\"",383020,32,"slider-field\",tabIndex:-1},proxyConfig:{value:0,minValue:0,maxValue:100,increment:1",159276,39,"hasOwnProperty(\"values\")){a.value=a.values}",276809,49,394283,48,"change:\"onSliderChange\"})",118281,54,"slider.Slider)},onSliderChange:function(c,a,d,b){this.fireEvent(\"change\",this,a,d,b)},setValues:function(a){this.setValue(a)",385833,47,"reset:function(){var b=this.config,a=(this.config.hasOwnProperty(\"values\"))?b.values:b.value;this.setValue(",122331,62,"getComponent().setDisabled(a)}}",399210,35,"RangeField\",{extend:\"app.view.FormField\",updateValue:function(b,a){var c;this.callParent(arguments);c=this.down(\"sliderfield\");return c.setValue(b-this.rangeMin())},requires:[\"Ext.field.Slider\"],createField:function(){var e,g,d,b,a,f=this;a=this.getFactory().get(\"range\");d=Ext.create(\"Ext.field.Slider\",{name:this.getName(),label:null,labelWrap:true,labelAlign:\"top\",minValue:0,maxValue:a.max-a.min});d.on({change:this.doChange,scope:this});g=a.labels.length;b=1/(g-1)*100;e=a.labels.map(function(c,h){if(h===0){return\"<span class='x-slider-axis-field-label' style=\\\"left:-5px;%\\\">\"+c+\"</span>\"}else{return\"<span class='x-slider-axis-field-label' style=\\\"right:\"+(b*(g-h-1))+'%\">'+c+\"</span>\"}});e=e.join(\"\");return{xtype:\"panel\",cls:\"x-slider-axis-field\",items:[d,{xtype:\"panel\",cls:\"x-slider-axis\",layout:\"hbox\",items:[{xtype:\"panel\",html:\"<div class='x-slider-axis-container'>\\n  <div class='x-slider-axis-inner'>\\n    \"+e+\"\\n    <div class='clearfix'/>\\n  </div>\\n</div>\",flex:1}]}]}},rangeMin:function(){return this.getFactory().get(\"range\").min},doChange:function(b,a){return this.setValue(b.getValue()[0]+this.rangeMin(",401024,40,336856,26172,"defaultValue",363033,42,363028,47,"show_if",363033,180,",{name:\"range\",type:\"object\",defaultValue:null}]},idForComponent:function(){return\"form-field-\"+(this.get(\"name",363351,60,"Label:function(){var l;l",363246,89,"l.replace(/_/,\" \")",363402,58,"isVisible:function(record){var visibleExpression,__record__;visibleExpression=this.get(\"show_if\");if(visibleExpression!=null){__record__=record;try{return eval(SkipLogic.parse(visibleExpression))}catch(error){return alert(\"Error processing skip logic\\n\\n  \"+visibleExpression+\"\\n\\nPlease check your form schema.\")}}else{return true}},isSet:function(record){return record.get(this.get(\"name\"))!=null},findComponent:function(context){return context.down(\"[id=\"+(this.idForComponent())+\"]\")},createComponent:function(record){return Ext.create(this.getComponentClass(),{factory:this,record:record})",365181,51,363758,181,"typeof b!==\"object\"){return{text:\"\"+b,value:a}}else",363935,56,"text!=null){return{text:b.text,value:a}",364080,70,364165,66,"requires:[\"app.view.RadioField\"],config:{componentClass:\"app.view.RadioField\",",364340,178,"Instructions:function(){var a;a=this.callParent();if(a!=null){return a}else{return\"&nbsp;\"",365180,52,365016,166,394255,39,"arguments);return setComponentClass(\"app.view.SelectField\")",365181,51,"form.Boolea",363768,34,"requires:[\"app.view.BooleanField\"],config:{componentClass:\"app.view.BooleanField\"",365181,51,"form.Sketch",363769,41,"componentClass:\"app.view.SketchField\",fields:[{name:\"points\",type:\"array\"}]},requires:[\"app.view.SketchField\"]",364894,38,"sketchfield\",minHeight:600,useToolbar:false,label:this.createLabel(),name:this.get(\"name\"",365179,53,"form.Range",363769,33,"fields:[{name:\"range\",type:\"object\"}],requires:[\"app.view.RangeField\"],config:{componentClass:\"app.view.RangeField\"",365181,31014,"view.TextField\",{extend:\"app.view.FormField\",updateValue:function(b,a){var c;this.callParent(arguments);c=this.down(\"textfield\");return c.setValue(b)}",396242,159,"Factory()",396397,271,"var a;a=Ext.create(\"Ext.Panel\",{items:[",396674,36,"Name(),label:null,labelWrap:true,labelAlign:\"top\"}]});a.on({change:{fn:this.doChange,scope:this,delegate:this.mapXType()}});return a},doChange:function(b,a){console.log(\"foo\");return this.setValue(b.getValue())",365181,51,396201,53,"app.view.TextField\"],config:{componentClass:\"app.view.TextField\"",365181,51,396810,232,"form.Boolean\",\"app.model.form.Sketch\",\"app.model.form.Range",397029,49,"PagesLister",397078,300,"type===\"boolean\"){return\"app.model.form.Boolean",397366,61,"if(a.range",397385,32,"nge",397420,37,397455,697,",defaultValue:j.defaultValue",398152,144,",set:function(n,m){var k,l;k=this.get(n);l=this.callParent([n,m]);this.fireEvent(\"change:\"+n,this,n,m,k);this.fireEvent(\"change\",this);return l}})}console.log(\"\"+d+\" as model class\");",398299,105,"PagesLister",398404,1605,400040,455,"Submitted form to server ok",400498,1952]