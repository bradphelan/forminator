["/*0957fca37a9b69e814ac96472111e6bdf05f418",41,227234,",width:\"80%\",height:\"80%\",layout:\"vbox\"",227275,46,"xtype:\"panel\",items:[{xtype:\"panel\",",227321,145,",width:\"100%\",height:\"100%\"}],scrollable:\"auto\",flex:1",227466,165,"var a;Ext.define(\"app.view.Canvas\",{xtype:\"canvas\",extend:\"Ext.Panel\",canvas:function(){return this.element.query(\"canvas\")[0]},config:{bubbleEvents:\"canvasResized\"},debounce:function(c,d){var b,e=this;b=null;return function(){var f;if(b!=null){window.clearTimeout(b);b=null}f=function(){return c.apply(e,arguments)};return b=window.setTimeout(f,d)}},doResize:function(){var b;b=this.element.getSize();$(this.canvas()).width(b.width-10);$(this.canvas()).height(b.height-10);return this.fireEvent(\"canvasResized\",b)},fixCanvasLag:function(){return $(this.canvas()).attr(\"unselectable\",\"on\").css({\"-moz-user-select\":\"none\",\"-webkit-user-select\":\"none\",\"user-select\":\"none\",\"::selection\":\"none\"}).each(function(){return this.onselectstart=function(){return false}})},initialize:function(){var b;this.setHtml(\"<canvas></canvas>\");this.addListener({resize:this.doResize,painted:this.doResize});b=this.element.getSize();$(this.canvas()).width(b.width-10);$(this.canvas()).height(b.height-10);return this.fixCanvasLag()}});Ext.define(\"app.view.Sketch\",{extend:\"Ext.Panel\",xtype:\"sketch\",config:{cls:\"sketcher\",layout:\"vbox\",useToolbar:true,bubbleEvents:[\"change\"],items:[{xtype:\"panel\",cls:\"tools\",html:\"<div class='toolbar'></div>\",align:\"left\",docked:\"top\"},{xtype:\"canvas\",border:\"1 1 1 1\",flex:1}]},insertTools:function(){var f,b,j,g,e,i,c,h,d;b=[\"#f00\",\"#ff0\",\"#0f0\",\"#0ff\",\"#00f\",\"#f0f\",\"#000\",\"#fff\"];for(g=0,i=b.length;g<i;g++){f=b[g];this.jqFind(\".tools\").append(\"<a href='#colors_sketch' data-color='\"+f+\"' style='background: \"+f+\";'></a> \")}h=[3,5,10,15];d=[];for(e=0,c=h.length;e<c;e++){j=h[e];d.push(this.jqFind(\".tools\").append(\"<a href='#colors_sketch' data-size='\"+j+\"' style='background: #ccc'>\"+j+\"</a> \"))}return d},canvasDOM:function(){return this.query(\"canvas\")[0].canvas()},jqFind:function(){var b;return $((b=this.element).query.apply(b,arguments))},pngData:function(){return this.sketch.el.toDataURL(\"png\")},resize:function(b){this.sketch.size=b;return this.sketch.redraw()},initialize:function(){var b,c=this;this.callParent();b=this.canvasDOM();this.sketch=new a(b,{toolLinks:false,defaultSize:\"10\"});$(b).data(\"sketch\",this.sketch);if(this.getUseToolbar()){this.insertTools()}this.addListener({canvasResized:function(d){return c.resize(d)}});return this.sketch.canvas.bind(\"sketch.change\",function(d){return c.fireEvent(\"change\",d)})}});a=(function(){b.name=\"Sketch\";function b(c,d){this.el=c;this.canvas=$(c);this.context=c.getContext(\"2d\");this.options=$.extend({toolLinks:true,defaultTool:\"marker\",defaultColor:\"#000000\",defaultSize:5},d);this.painting=false;this.color=this.options.defaultColor;this.toolSize=this.options.defaultSize;this.tool=this.options.defaultTool;this.actions=[];this.action=[];this.canvas.bind(\"click mousedown mouseup mousemove mouseleave mouseout touchstart touchmove touchend touchcancel\",this.onEvent);if(this.options.toolLinks){$(\"body\").delegate('a[href=\"#'+(this.canvas.attr(\"id\"))+'\"]',\"click\",function(l){var h,k,g,m,j,f,i;k=$(this);h=$(k.attr(\"href\"));m=h.data(\"sketch\");i=[\"color\",\"size\",\"tool\"];for(j=0,f=i.length;j<f;j++){g=i[j];if(k.attr(\"data-\"+g)){m.set(g,$(this).attr(\"data-\"+g))}}if($(this).attr(\"data-download\")){m.download($(this).attr(\"data-download\"))}return false})}}b.prototype.download=function(d){var c;d||(d=\"png\");if(d===\"jpg\"){d=\"jpeg\"}c=\"image/\"+d;return window.open(this.el.toDataURL(c))};b.prototype.set=function(c,d){this[c]=d;return this.canvas.trigger(\"sketch.change\"+c,d)};b.prototype.startPainting=function(){this.painting=true;return this.action={tool:this.tool,color:this.color,size:parseFloat(this.toolSize),events:[]}};b.prototype.stopPainting=function(){if(this.action){this.actions.push(this.action)}this.painting=false;this.action=null;this.redraw();return this.canvas.trigger(\"sketch.change\",this.actions)};b.prototype.onEvent=function(c){if(c.originalEvent&&c.originalEvent.targetTouches){c.pageX=c.originalEvent.targetTouches[0].pageX;c.pageY=c.originalEvent.targetTouches[0].pageY}$.sketch.tools[$(this).data(\"sketch\").tool].onEvent.call($(this).data(\"sketch\"),c);c.preventDefault();return false};b.prototype.redraw=function(){var f,h,g,e,c,d;this.el.width=this.canvas.width();this.el.height=this.canvas.height();this.context=this.el.getContext(\"2d\");h=this;g=$.sketch.tools;d=this.actions;for(e=0,c=d.length;e<c;e++){f=d[e];if(f.tool){g[f.tool].draw.call(h,f)}}if(this.painting&&this.action){return g[this.action.tool].draw.call(h,this.action)}};return b})();$.sketch={tools:{}};$.sketch.tools.marker={onEvent:function(c){var b,d=this;switch(c.type){case\"mousedown\":case\"touchstart\":return this.startPainting();case\"mouseup\":case\"mouseout\":case\"mouseleave\":case\"touchend\":case\"touchcancel\":return this.stopPainting();case\"mousemove\":if(!this.doMouseMove){b=function(g){var f,h;if(d.painting){h=d.canvas.offset();f={x:g.pageX-h.left,y:g.pageY-h.top,event:g.type};d.action.events.push(f);return d.redraw()}};this.doMouseMove=Ext.Function.createThrottled(b,1000/25)}return this.doMouseMove(c)}},draw:function(e){var j,f,c,d,h,b,k,g;j=this.context;j.lineJoin=\"round\";j.lineCap=\"round\";j.beginPath();j.strokeStyle=e.color;j.lineWidth=e.size;k=e.events;if(!(k.length>=3)){return}b=k[0];j.moveTo(b.x,b.y);d=k.length-2;j.moveTo(k[0].x,k[0].y);for(h=g=1;1<=d?g<=d:g>=d;h=1<=d?++g:--g){f=(k[h].x+k[h+1].x)/2;c=(k[h].y+k[h+1].y)/2;j.quadraticCurveTo(k[h].x,k[h].y,f,c)}j.quadraticCurveTo(k[h-1].x,k[h-1].y,k[h].x,k[h].y);return j.stroke()}};$.sketch.tools.eraser={onEvent:function(b){return $.sketch.tools.marker.onEvent.call(this,b)},draw:function(c){var b;b=this.context.globalCompositeOperation;this.context.globalCompositeOperation=\"copy\";c.color=\"rgba(0,0,0,0)\";$.sketch.tools.marker.draw.call(this,c);return this.context.globalCompositeOperation=b}}",383344,51,227656,80,369332,33,227735,4185,383358,33,"Page\",{extend:\"Ext.Panel\",config:{scrollable:\"vertical\",last:false,pagesUI:null,page:null,record:null,padding:10},areAllItemsOnPageSet:function(){var a,b=this;return true;a=true;this.getPage().get(\"items\").getData().each(function(c){if(!c.isSet(b.getRecord())){return a=false}});return a},updateVisibility:function(){var a=this;return this.getPage().get(\"items\").getData().each(function(c){var b,d;d=c.isVisible(a.getRecord());c.findComponent(a).setShowAnimation(\"slideIn\");c.findComponent(a).setHideAnimation(\"fadeOut\");if(d){return c.findComponent(a).show()}else{b=c.findComponent(a);if(!b.getHidden()){a.getRecord().set(c.get(\"name\"),null);return b.hide()}}})},updateState:function(){if(this.areAllItemsOnPageSet()){this.down(\"[iconCls=arrow_right]\").setDisabled(false)}return this.updateVisibility()},configureListeners:function(){var a=this;return this.getRecord().on({change:{fn:function(){a.updateState();return a.configureListeners()},single:true}})},currentIndex:function(){return this.getPagesUI().indexOf(this.getPagesUI().getActiveItem())},buildFields:function(){var a=this;return this.getPage()",382718,41,"b){return b.createComponent(a.getRecord())})},buildSubmitToolbar",354360,37,382828,166,"b){return b.fireEvent(\"submitForm\",a.getRecord())}}}]",232544,36,"this.add({xtype:\"titlebar\",title:this.getPage().get(\"title\"),docked:\"top\",items:[{iconCls:\"arrow_left\",cls:\"previous",382397,55,"a.getPagesUI().getLayout().setAnimation({type:\"slide\",direction:\"right\",duration:500,easing:\"ease-in\"});return a.getPagesUI().setActiveItem(a.currentIndex()-1)}}},{iconCls:\"arrow_right\",cls:\"next\",iconMask:true,align:\"right\",disabled:true,listeners:{tap:function(){a.getPagesUI().getLayout().setAnimation({type:\"slide\",direction:\"left\",duration:500,easing:\"ease-in\"});return a.getPagesUI().setActiveItem(a.currentIndex()+1)}}}]});this.add({xtype:\"panel\",items:[{xtype:\"label\",html:this.getPage().get(\"help\"),padding:20},{xtype:\"panel\",items:this.buildFields()}]});if(this.getLast()){this.add(this.buildSubmitToolbar())}this.configureListeners();return this.updateState()",383341,54,"PagesLister\",{extend:\"Ext.Panel\",config:{pages:null,record:null,layout:\"vbox\"",380700,39,"Pages().getData().length},initialize:function(){var a,b,c=this;this.callParent();a=Ext.create(\"Ext.Panel\",{padding:0",276868,32,"type:\"slide\",direction:\"down\"}},scrollable:false,flex:1,pages:this.getPages(),record:this.getRecord()});a.add(this.getPages().getData().collect(function(e,d){return Ext.create(\"app.view.Page\",{last:d===c.pagesCount()-1,pagesUI:a,page:e,record:c.getRecord()})}));b=Ext.create(\"Ext.List\",{store:this.getPages(),itemTpl:\"{title}\",scrollable:true,cls:\"x-question-list\",flex:1,listeners:{itemtap:function(e,f){var d;d=a.items.indexOf(a.getActiveItem());a.getLayout().setAnimation({type:\"slide\",direction:f>d?\"left\":\"right\",duration:500,easing:\"ease-in\"});return a.setActiveItem(f)}}});a.on({activeitemchange:function(e,f,g){var d;d=e.items.indexOf(f);return b.select(d)}});b.select(0);this.add({xtype:\"panel\",width:200,docked:\"left\",layout:\"vbox",384226,34,"Questions\"},b]});return this.add(a",385165,34,231936,16130,383358,37,"Field\",{extend:\"Ext.Panel\",config:{factory:null,record:null,name:null,value:null},initialize:function(){this.setName(this.getFactory().get(\"name\"));this.getRecord().on(\"change:\"+(this.getName()),this.doRecordChange,this);this.add({xtype:\"fieldset\",items:[this.createField()],instructions:this.getFactory().createInstructions(),title:this.getFactory().createTitle()});this.setId(this.getFactory().idForComponent());return this.setValue(this.getRecord().get(this.getName()))},updateValue:function(b,a){return this.getRecord().set(this.getName(),b)},doRecordChange:function(c,d,b,a){return this.setValue(b",385165,34,"field.Password",129300,34,"password",279184,36,"Password\",config:{",129447,32,"type:\"password\"}}});Ext.define(\"Ext.field.Email\",{extend:\"Ext.field.Text\",alternateClassName:\"Ext.form.Email\",xtype:\"emailfield\",config:{component:{type:\"email\"},autoCapitalize:false}});Ext.define(\"Ext.field.Number",129300,34,"number",279184,36,"Number\",config:{component:{type:\"number\"},ui:\"number\"},proxyConfig:{",119573,42,"},apply",126600,32,"MinValue(),c=this.getMaxValue();if(Ext.isNumber(a)){b=Math.max(b,a)}if(Ext.isNumber(c)){b=Math.min(b,c)}return parseFloat(b)",377151,33,"callParent();return parseFloat(a||0",128371,34,"getComponent().setValue(\"\");a.getValue();a.hideClearIcon()}});Ext.define(\"Ext.field.Url",129300,34,"url",279184,36,"Url\",config:{",129447,32,"type:\"url\"}",248062,18224,"slider.Thumb",236350,33,"thumb\"",119456,36,"thumb\",draggable:{direction:\"horizontal\"}},elementWidth:0",117197,46,"getDraggable().onBefore(",94685,70,");this.on(\"painted\",\"onPainted\")},onDragStart:function(){if(this.isDisabled()){return false}this.relayEvent(arguments)},onDrag:function(){if(this.isDisabled()){return false}this.relayEvent(arguments)},onDragEnd:function(){if(this.isDisabled()){return false}this.relayEvent(arguments",117285,36,"Width=this.element.dom.offsetWidth},getElementWidth:function(){return this.elementWidth",266266,25169,383358,33,"RadioField\",{extend:\"app.view.FormField\",updateValue:function(f,d){var g,a,e,c,b;this.callParent(arguments);a=this.query(\"radiofield\");b=[];for(e=0,c=a.length;e<c;e++){g=a[e];if(f===null){b.push(g.setChecked(false))}else{if(g.getValue()===f){b.push(g.setChecked(true))}else{b.push(void 0)}}}return b},createRadio:function(a){return{xtype:\"radiofield\",labelWidth:this.getFactory().get(\"labelWidth\"),value:a.value,label:Ext.String.capitalize(a.text),name:this.getName()}},createRadios:function(){var a,b=this;return a=this.getFactory().options().map(function(c){return{xtype:\"panel\",items:[b.createRadio(c),{xtype:\"label\",html:c.help,cls:\"assist\"}]}})},createField:function(){var a;a=Ext.create(\"Ext.Panel\",{items:this.createRadios()});a.on({check:{fn:this.doChange,scope:this,delegate:\"field\"},uncheck:{fn:this.doChange,scope:this,delegate:\"field\"}});return a},doChange:function(a,b){return this.setValue(a.getValue())",383341,50,"BooleanField\",{extend:\"app.view.FormField\",updateValue:function(b,a){var c;this.callParent(arguments);c=this.down(\"checkboxfield\");return c.setChecked(b)},requires:[\"Ext.field.Checkbox\"],createField:function(){var a,b=this;a=Ext.create(\"Ext.field.Checkbox\",{name:this.getName(),label:this.getFactory().createLabel(),labelWrap:false,labelAlign:\"left\"});a.on({check:function(c){return b.doChange(c)},uncheck:function(c){return b.doChange(c)}});return a},doChange:function(a){return this.setValue(a.isChecked())",383341,50,"SketchFieldImpl",125880,35,"sketchfield\",config:{component:{xtype:\"sketch\",minHeight:600,useToolbar:false}",117196,42,"return this.getComponent().on({change:{scope:this,fn:this.onSketchChange}})},onSketchChange:function(a){this.setValue(a);return this.fireEvent(\"change\")",375550,38,"Component().pngData()",13898,37,"Values()}});Ext.define(\"app.view.SketchField\",{extend:\"app.view.FormField\",createField:function(){this.panel=Ext.create(\"app.view.SketchFieldImpl\",{name:this.getName(),label:this.getFactory().createLabel(),labelWrap:true,labelAlign:\"top\"});this.panel.on(\"change\",this.doChange,this);return this.panel},doChange:function(){return this.setValue(this.panel.getValue())",376971,33,"callParent(arguments);return console.log(\"warning: cannot update image sketches yet!\"",385165,34,291451,36714,"slider.Slider",202670,33,"slider\",requires:[\"Ext.slider.Thumb\",\"Ext.fx.easing.EaseOut\"],config:{baseCls:\"x-slider\",thumbConfig:{draggable:{translatable:{easingX:{duration:300,type:\"ease-out\"}}}},value:0,minValue:0,maxValue:100,increment:1,allowThumbsOverlapping:false,animation:true},elementWidth:0,offsetValueRatio:0,activeThumb:null",304286,38,"hasOwnProperty(\"values\")){a.value=a.values}",268123,44,"var a=this.element;this.callParent();a.on({scope:this,tap:\"onTap\"});this.on({scope:this,delegate:\"> thumb\",dragstart:\"onThumbDragStart\",drag:\"onThumbDrag\",dragend:\"onThumbDragEnd\"});this.on({painted:\"refresh\",resize:\"refresh\"})},factoryThumb:function(){return Ext.factory(this.getThumbConfig(),Ext.slider.Thumb)},getThumb",156822,40,"Thumb:function(a){if(typeof a!=\"number\"){a=0}return this.innerItems[a]},refreshOffsetValueRatio:function(){var b=this.getMaxValue()-this.getMinValue(),a=this.elementWidth-this.thumbWidth;this.offsetValueRatio=a/b},refreshElementWidth:function(){this.elementWidth=this.element.dom.offsetWidth;var a=this.getThumb(0);if(a){this.thumbWidth=a.getElementWidth()}",77198,33,"ElementWidth();this.refreshValue()},setActiveThumb:function(b){var a=this.activeThumb;if(a&&a!==b){a.setZIndex(null)}this.activeThumb=b;b.setZIndex(2);return this},onThumbDragStart:function(a,b){if(b.absDeltaX<=b.absDeltaY){return false}else{b.stopPropagation()}if(this.getAllowThumbsOverlapping()){this.setActiveThumb(a)}this.dragStartValue=this.getValue()[this.getThumbIndex(a)];this.fireEvent(\"dragstart\",this,a,this.dragStartValue,b)},onThumbDrag:function(c,g,a){var d=this.getThumbIndex(c),f=this.offsetValueRatio,b=this.constrainValue(a/f);g.stopPropagation();this.setIndexValue(d,b);this.fireEvent(\"drag\",this,c,this.getValue(),g);return false},setIndexValue:function(d,g,f){var c=this.getThumb(d),b=this.getValue(),e=this.offsetValueRatio,a=c.getDraggable();a.setOffset(g*e,null,f);b[d]=this.constrainValue(a.getOffset().x/e)},onThumbDragEnd:function(a,f){this.refreshThumbConstraints(a);var c=this.getThumbIndex(a),d=this.getValue()[c],b=this.dragStartValue",97187,38,"getValue(),f);if(b!==",377114,32,"a,d,b)}},getThumbIndex:function(a){return this.getThumbs().indexOf(a)},refreshThumbConstraints:function(d){var b=this.getAllowThumbsOverlapping(),a=d.getDraggable().getOffset().x,c=this.getThumbs(),e=this.getThumbIndex(d),g=c[e-1],h=c[e+1],f=this.thumbWidth;if(g){g.getDraggable().addExtraConstraint({max:{x:a-((b)?0:f)}})}if(h){h.getDraggable().addExtraConstraint({min:{x:a+((b)?0:f)}})}},onTap:function(j){if(this.isDisabled()){return}var k=Ext.get(j.target);if(!k||k.hasCls(\"x-thumb\")){return}var n=j.touch.point.x,h=this.element,c=h.getX(),d=n-c-(this.thumbWidth/2),o=this.constrainValue(d/this.offsetValueRatio),r=this.getValue(),q=Infinity,m=r.length,g,f,l,p,b,a;if(m===1){p=0}else{for(g=0;g<m;g++){l=r[g];f=Math.abs(l-o);if(f<q){q=f;p=g}}}b=r[p];a=this.getThumb(p);this.setIndexValue(p,o,this.getAnimation());this.refreshThumbConstraints(a);if(b!==o){this.fireEvent(\"change\",this,a,o,b)}},updateThumbs:function(a){this.add(a)},applyValue:function(g){var d=Ext.Array.from(g||0),b=[],c=this.getMinValue(),a,e,f;for(e=0,f=d.length;e<f;e++){a=this.constrainValue(d[e]);if(a<c){a=c}b.push(a);c=a}return b},updateValue:function(e,b){var a=this.getThumbs(),d=e.length,c;this.setThumbsCount(d);for(c=0;c<d;c++){a[c].getDraggable().setExtraConstraint(null).setOffset(e[c]*this.offsetValueRatio)}for(c=0;c<d;c++){this.refreshThumbConstraints(a[c])}},refreshValue:function(){this.refreshOffsetValueRatio();this.setValue(this.getValue())},constrainValue:function(e){var b=this,d=b.getMinValue(),f=b.getMaxValue(),a=b.getIncrement(),c;e=parseFloat(e);if(isNaN(e)){e=d}c=e%a;e-=c;if(Math.abs(c)>=(a/2)){e+=(c>0)?a:-a}e=Math.max(d,e);e=Math.min(f,e);return e},setThumbsCount:function(e){var a=this.getThumbs(),f=a.length,c,d,b;if(f>e){for(c=0,d=f-e;c<d;c++){b=a[a.length-1];b.destroy()}}else{if(f<e){for(c=0,d=e-f;c<d;c++){this.add(this.factoryThumb())}}}return this},setValues:function(a){this.setValue(a)",375550,47,"applyIncrement:function(a){if(a===0){a=1}return Math.abs(a)},updateAllowThumbsOverlapping:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},updateMinValue:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},updateMaxValue:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},updateIncrement:function(b,a){if(typeof a!=\"undefined\"){this.refreshValue()}},doSetDisabled:function(c",129599,33,"a=this.getItems().items,d=a.length,b;for(b=0;b<d;b++){a[b].setDisabled(c",338300,35,"field.Slider",125880,35,"sliderfield\",requires:[\"Ext.slider.Slider",129383,32,"Slider\"",94196,32,"slider-field\",tabIndex:-1},proxyConfig:{value:0,minValue:0,maxValue:100,increment:1",304285,39,"hasOwnProperty(\"values\")){a.value=a.values}",268123,49,"callParent();this.getComponent().on({scope:this,change:\"onSliderChange\"})",118281,54,"slider.Slider)},onSliderChange:function(c,a,d,b){this.fireEvent(\"change\",this,a,d,b)},setValues:function(a){this.setValue(a)",375550,47,"reset:function(){var b=this.config,a=(this.config.hasOwnProperty(\"values\"))?b.values:b.value;this.setValue(",122331,62,"getComponent().setDisabled(a)}}",384384,35,"RangeField\",{extend:\"app.view.FormField\",updateValue:function(b,a){var c;this.callParent(arguments);c=this.down(\"sliderfield\");return c.setValue(b-this.rangeMin())},requires:[\"Ext.field.Slider\"],createField:function(){var e,g,d,b,a,f=this;a=this.getFactory().get(\"range\");d=Ext.create(\"Ext.field.Slider\",{name:this.getName(),label:this.getFactory().createLabel(),labelWrap:true,labelAlign:\"top\",minValue:0,maxValue:a.max-a.min});d.on({change:this.doChange,scope:this});g=a.labels.length;b=1/(g-1)*100;e=a.labels.map(function(c,h){if(h===0){return\"<span class='x-slider-axis-field-label' style=\\\"left:-5px;%\\\">\"+c+\"</span>\"}else{return\"<span class='x-slider-axis-field-label' style=\\\"right:\"+(b*(g-h-1))+'%\">'+c+\"</span>\"}});e=e.join(\"\");return{xtype:\"panel\",cls:\"x-slider-axis-field\",items:[d,{xtype:\"panel\",cls:\"x-slider-axis\",layout:\"hbox\",items:[{xtype:\"panel\",html:\"<div class='x-slider-axis-container'>\\n  <div class='x-slider-axis-inner'>\\n    \"+e+\"\\n    <div class='clearfix'/>\\n  </div>\\n</div>\",flex:1}]}]}},rangeMin:function(){return this.getFactory().get(\"range\").min},doChange:function(b,a){return this.setValue(b.getValue()[0]+this.rangeMin(",385164,40,328170,26039,"Field\"",381724,41,354257,36,"type\",type:\"string\",defaultValue:\"string\"},{name:\"defaultValue\",type:\"string\",defaultValue:null},{name:\"label\",type:\"string\",defaultValue:null},{name:\"show_if\",type:\"string\",defaultValue:null},{name:\"title\",type:\"string\",defaultValue:null},{name:\"help\",type:\"string\",defaultValue:null},{name:\"labelWidth\",type:\"string\",defaultValue:\"30%\"},{name:\"range\",type:\"object\",defaultValue:null}]},idForComponent:function(){return\"form-field-\"+(this.get(\"name\"))},createTitle:function(){return this.get(\"title\")},createLabel:function(){var l;l=this.get(\"label\")!=null?this.get(\"label\"):this.get(\"name\");return Ext.String.capitalize(l.replace(/_/,\" \"))},createInstructions:function(){return this.get(\"help\")},isVisible:function(record){var visibleExpression,__record__;visibleExpression=this.get(\"show_if\");if(visibleExpression!=null){__record__=record;try{return eval(SkipLogic.parse(visibleExpression))}catch(error){return alert(\"Error processing skip logic\\n\\n  \"+visibleExpression+\"\\n\\nPlease check your form schema.\")}}else{return true}},isSet:function(record){return record.get(this.get(\"name\"))!=null},findComponent:function(context){return context.down(\"[id=\"+(this.idForComponent())+\"]\")},createComponent:function(record){return Ext.create(this.getComponentClass(),{factory:this,record:record",227600,47,"model.form.Option\",{extend:\"app.model.form.Field\",config:{fields:[{name:\"options\",type:\"array\"}]},options:function(){var a;a=0;return ",354410,36,"b=(function(){if(typeof b!==\"object\"){return{text:\"\"+b,value:a}}else{if((b.text!=null)&&(b.value!=null)){return b}else{if(b.text!=null){return{text:b.text,value:a}}else{throw\"Arggh\"}}}})();a+=1;return b",227600,47,"model.form.Radio\",{extend:\"app.model.form.Option\",requires:[\"app.view.RadioField\"],config:{componentClass:\"app.view.RadioField\",fields:[{name:\"labelWidth\",type:\"string\",defaultValue:\"90%\"}]},createTitle:function(){if(this.get(\"title\")!=null){return this.get(\"title\")}else{return this.createLabel()}},createInstructions:function(){var a;a=this.callParent();if(a!=null){return a}else{return\"&nbsp;\"}",383341,45,"model.form.Select\",{extend:\"app.model.form.Option\",create",354535,72,"this.createLabel(),options:this.options(",235344,42,"arguments);return setComponentClass(\"app.view.SelectField\")",383341,45,"model.form.Boolean\",{extend:\"app.model.form.Field\",requires:[\"app.view.BooleanField\"],config:{componentClass:\"app.view.BooleanField\"",383341,45,"model.form.Sketch\",{extend:\"app.model.form.Field\",config:{componentClass:\"app.view.SketchField\",fields:[{name:\"points\",type:\"array\"}]},requires:[\"app.view.SketchField\"],create",354535,32,"ketchfield\",minHeight:600,useToolbar:false,label:this.createLabel(),name:this.get(\"name\"",354896,53,"form.Range\",{extend:\"app.model.form.Field\",fields:[{name:\"range\",type:\"object\"}],requires:[\"app.view.RangeField\"],config:{componentClass:\"app.view.RangeField\"",383341,45,354943,25367,"Ext.define(\"Ext.picker.Date\",{extend:\"Ext.picker.Picker\",xtype:\"date",372624,32,"DatePicker\",requires:[\"Ext.DateExtras\"],config:{yearFrom:1980,yearTo:new Date().getFullYear(),monthText:\"Month\",dayText:\"Day\",yearText:\"Year\",slotOrder:[\"month\",\"day\",\"year\"]",117196,51,"scope:this,delegate:\"> slot\",slotpick:this.onSlotPick})},setValue:function(b,a){if(Ext.isDate(b)){b={day:b.getDate(),month:b.getMonth()+1,year:b.getFullYear()}}this.callParent([b,a])},getValue:function(){var h={},a,g,c,f,e=this.getItems().items,d=e.length,j,b;for(b=0;b<d;b++){j=e[b];if(j instanceof Ext.picker.Slot){h[j.getName()]=j.getValue()}}if(h.year===null&&h.month===null&&h.day===null){return null}f=Ext.isNumber(h.year)?h.year:1;c=Ext.isNumber(h.month)?h.month:1;g=Ext.isNumber(h.day)?h.day:1;if(c&&f&&c&&g){a=this.getDaysInMonth(c,f)}g=(a)?Math.min(g,a):g;return new Date(f,c-1,g)},updateYearFrom:function(){if(this.initialized){this.createSlots()}},updateYearTo:function(){if(this.initialized){this.createSlots()}},updateMonthText:function(a,b){var f=this.getInnerItems,e=f.length,d,c;if(this.initialized){for(c=0;c<e;c++){d=f[c];if((typeof d.title==\"string\"&&d.title==b)||(d.title.html==b)){d.setTitle(a)}}}},updateDayText:function(a,c){var f=this.getInnerItems,e=f.length,d,b;if(this.initialized){for(b=0;b<e;b++){d=f[b];if((typeof d.title==\"string\"&&d.title==c)||(d.title.html==c)){d.setTitle(a)}}}},updateYearText:function(e){var d=this.getInnerItems,c=d.length,b,a;if(this.initialized){for(a=0;a<c;a++){b=d[a];if(b.title==this.yearText){b.setTitle(e)}}}}",226350,51,"this.createSlots()},createSlots:function(){var k=this,c=this.getSlotOrder(),m=k.getYearFrom(),f=k.getYearTo(),g=[],l=[],b=[],j,e,d,a;if(m>f){e=m;m=f;f=e}for(d=m;d<=f;d++){g.push({text:d,value:d})}a=this.getDaysInMonth(1,new Date().getFullYear());for(d=0;d<a;d++){l.push({text:d+1,value:d+1})}for(d=0,j=Ext.Date.monthNames.length;d<j;d++){b.push({text:Ext.Date.monthNames[d],value:d+1})}var h=[];c.forEach(function(i){h.push(this.createSlot(i,l,b,g))},this);k.setSlots(h)},createSlot:function(b,d,a,c){switch(b){case\"year\":return{name:\"year\",align:\"center\",data:c,title:this.getYearText(),flex:3};case\"month\":return{name:b,align:\"right\",data:a,title:this.getMonthText(),flex:4};case\"day\":return{name:\"day\",align:\"center\",data:d,title:this.getDayText(),flex:2}}},onSlotPick:function(){var j=this.getValue(),h=this.getDaySlot(),f=j.getFullYear(),e=j.getMonth(),k=[],b=h,a,c;if(!j||!Ext.isDate(j)||!h){return}a=this.getDaysInMonth(e+1,f);for(c=0;c<a;c++){k.push({text:c+1,value:c+1})}if(h.getData().length==k.length){return}var g=h.getStore(),n=h.getViewItems(),m=h.getValueField(),d,l;h.setData(k);d=g.find(m,j.getDate());if(d==-1){return}l=Ext.get(n[d]);h.selectedIndex=d;h.scrollToItem(l);h._value=j},getDaySlot:function(){var c=this.getInnerItems(),b=c.length,a,d;if(this.daySlot){return this.daySlot}for(a=0;a<b;a++){d=c[a];if(d.isSlot&&d.getName()==\"day\"){this.daySlot=d;return d}}return null},getDaysInMonth:function(c,b){var a",69756,46,"c==2&&this.isLeapYear(b)?29:a[c-1]},isLeapYear:function(a){return !!((a&3)===0&&(a%100||(a%400===0&&a)",374660,71,".toDateString()!=a.toDateString()",374734,46,"});Ext.define(\"Ext.field.DatePicker\",{extend:\"Ext.field.Text\",alternateClassName:\"Ext.form.DatePicker\",xtype:\"datepickerfield\",requires:[\"Ext.picker.Date\",\"Ext.DateExtras\"],config:{ui:\"select\",picker:true,clearIcon:false,destroyPickerOnHide:false,dateFormat:null,component:{useMask:true}",117196,47,"getComponent().on({scope:this,masktap:\"onMaskTap\"});this.getComponent().input.dom.disabled=true",376677,47,"a){if(!Ext.isDate(a)&&!Ext.isObject(a)){a=null}if(Ext.isObject(a)){a=new Date(a.year,a.month-1,a.day)}return a",126592,37,"_picker;if(a&&a.isPicker){a.setValue(b)}if(b!==null){this.getComponent().setValue(Ext.Date.format(b,this.getDateFormat()",73082,36,")}else{this.getComponent().setValue(\"\")}if(this._picker&&this._picker instanceof Ext.picker.Date){this._picker.setValue(b)}},updateDateFormat:function(c,a){var b=this.getValue();if(c!=a&&Ext.isDate(b)&&this._picker&&this._picker instanceof Ext.picker.Date){this.getComponent().setValue(",73063,55,")}},getValue:function(){if(this._picker&&this._picker instanceof Ext.picker.Date){return this._picker.getValue()}return this._value},getFormatted",126600,32,"Value();return(Ext.isDate(a))?Ext.Date.format(a,b||this.getDateFormat()",73082,36,":a},applyPicker:function(b,a){if(a&&a.isPicker){b=a.setConfig(b)}return b},getPicker:function(){var a=this._picker;if(a&&!a.isPicker){a=Ext.factory(a,Ext.picker.Date);a.on({scope:this,change:\"onPickerChange\",hide:\"onPickerHide\"});a.setValue(this.getValue());Ext.Viewport.add(a);this._picker=a}return a",378093,59,"if(this.getReadOnly()){return false}this.getPicker().show();return false},onPickerChange:function(a,c){var b=this;b.setValue(c);b.fireEvent(\"change\",b,b.getValue())},onPickerHide:function(){var a=this.getPicker();if(this.getDestroyPickerOnHide()&&a){a.destroy();this._picker=true}",125740,52,158815,35,"Picker();if(a&&a.isPicker){a.destroy(",50510,32,383358,33,"TextField\",{extend:\"app.view.FormField\",updateValue:function(b,a){var c;this.callParent(arguments);c=this.down(\"textfield\");return c.setValue(b)},requires:[\"Ext.form.DatePicker\",\"Ext.form.Password\",\"Ext.form.Email\",\"Ext.form.Number\",\"Ext.form.TextArea\",\"Ext.form.Url\"],mapXType:function(){switch(this.getFactory().get(\"type\")){case\"password\":return\"passwordfield\";case\"email\":return\"emailfield\";case\"date\":return\"datepickerfield\";case\"url\":return\"urlfield\";case\"integer\":case\"int\":return\"numberfield\";case\"float\":return\"numberfield\";default:return\"textfield\"}},createField:function(){var a;a=Ext.create(\"Ext.Panel\",{items:[{xtype:this.mapXType(),name:this.getName(),label:this.getFactory().createLabel(),labelWrap:true,labelAlign:\"top\"}]});a.on({change:{fn:this.doChange,scope:this,delegate:this.mapXType()}});return a},doChange:function(b,a){return this.setValue(b.getValue())",383341,45,"model.form.Text\",{extend:\"app.model.form.Field\",requires:[\"app.view.TextField\"],config:{componentClass:\"app.view.TextField\"",383341,45,380338,146,"form.Radio\",\"app.model.form.Select\",\"app.model.form.Text\",\"app.model.form.Field\",\"app.model.form.Boolean\",\"app.model.form.Sketch\",\"app.model.form.Range\",\"app.model.Page\",\"app.view.Page\",\"app.view.FormPagesLister",380488,214,"itemTypeMap:function(a){if(a.type===\"sketch\"){return\"app.model.form.Sketch\"}else{if(a.type===\"boolean\"){return\"app.model.form.Boolean\"}else{if(a.options!=null){return\"app.model.form.Radio\"}else{if(a.range!=null){return\"app.model.form.Range\"}else{return\"app.model.form.Text\"}}}}}",265497,36,380907,277,381190,160,381415,175,"label:j.label",381589,34,",defaultValue:j.defaultValue",381623,144,",set:function(n,m){var k,l;k=this.get(n);l=this.callParent([n,m]);this.fireEvent(\"change:\"+n,this,n,m,k);this.fireEvent(\"change\",this);return l}})}console.log(\"\"+d+\" as model class\");",381770,39,381816,53,"app.view.FormPagesLister\",{title:this.get(\"title\"),pages:this.get(\"pages\"),record:a",383048,1472,",\"app.view.Sketch\"]",117197,39,"arguments);",384588,43,";return this.push({xtype:\"formkiosk\"}",384630,93,",c=this",384723,62,"Ext.Viewport.add(a);return Ext.Ajax.request({params:JSON.stringify(b.getData(),void 0,2),method:\"POST\",headers:{\"Content-Type\":\"application/json;charset=utf-8\"},url:\"/form.json\",success:function(d){return console.log(\"Submitted form to server ok\")},error:function(){return console.log(\"Nein",383775,50,384856,96,"if(Ext.browser.userAgent.match(/PhantomJS/)){return false}",384952,45,"(Ext.browser.is.IE||Ext.browser.is.WebKit||Ext.browser.is.Gecko||Ext.browser.is.Opera)",385018,1572]